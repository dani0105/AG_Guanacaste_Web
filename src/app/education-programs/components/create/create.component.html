<div class="container-fluid">

  <div class="row">
    <div class="col-12">
      <div class="d-flex">
        <a [routerLink]="['/dashboard','education-programs']" mat-mini-fab color="warn" class="shadow-none">
          <mat-icon>arrow_back_ios_new</mat-icon>
        </a>
        <h1 class="mb-0 ml-4 text-primary">
          Administrar Programas Educativos
        </h1>
      </div>
    </div>
  </div>

  <form class="mt-5 mb-3 pb-2" [formGroup]="this.Form" (submit)="this.onSubmit(this.Form.value)">
    <div class="row align-items-center">
      <div class="col-12 col-sm-5 col-md-5 col-xl-4">
        <h2 class="mb-0 text-primary-light">Título del programa</h2>
      </div>
      <div class="col-12 col-sm-6 col-md-6 col-xl-6">
        <mat-form-field class="w-100 text-secondary mt-2 mt-sm-0" appearance="fill" color="warn">
          <span matPrefix>
            <mat-icon>title</mat-icon>
          </span>
          <mat-label>Nombre del programa</mat-label>
          <input matInput placeholder="¿Cuál actividad es esta?" formControlName="name">
          <div *ngIf="this.Form.get('name').errors  && (this.Form.get('name').dirty || this.Form.get('name').touched) ">
            <small class="text-secondary" *ngIf="this.Form.get('name').hasError('required')">
              Campo requerido
            </small>
            <small class="text-secondary" *ngIf="this.Form.get('name').hasError('maxlength')">
              Minimo 300 carateres
            </small>
          </div>
        </mat-form-field>
      </div>
    </div>

    <div class="row align-items-center mt-4">
      <div class="col-12 col-sm-5 col-md-5 col-xl-4">
        <h2 class="mb-0 text-primary-light">Tipo de programa</h2>
      </div>
      <div class="col-12 col-sm-6 col-md-6 col-xl-6">
        <mat-form-field class="w-100 mt-2 mt-sm-0" appearance="fill">
          <mat-label>Seleccionar</mat-label>
          <mat-select formControlName="id_education_program_type">
            <mat-option *ngFor="let item of this.types" [value]="item.id">
              {{ item.name }}
            </mat-option>
          </mat-select>
          <div
            *ngIf="this.Form.get('id_education_program_type').errors  && (this.Form.get('id_education_program_type').dirty || this.Form.get('id_education_program_type').touched) ">
            <small class="text-secondary" *ngIf="this.Form.get('id_education_program_type').hasError('required')">
              Campo requerido
            </small>
          </div>
        </mat-form-field>
      </div>
    </div>


    <div class="row align-items-center mt-4">
      <div class="col-12 col-sm-5 col-md-5 col-xl-4">
        <h2 class="mb-0 text-primary-light">Descripción</h2>
      </div>
      <div class="col-12 col-sm-6 col-md-6 col-xl-6">
        <textarea formControlName="description" placeholder="¿Qué se va hacer en el programa?"
          class="rounded-lg mt-2 mt-sm-0 min-height bg-secondary-light w-100 p-2"></textarea>
      </div>
    </div>

    <div class="row align-items-center mt-4">
      <div class="col-12 col-sm-5 col-md-5 col-xl-4">
        <h2 class="mb-0 text-primary-light">Meta del programa</h2>
      </div>
      <div class="col-12 col-sm-6 col-md-6 col-xl-6">
        <textarea formControlName="goal" placeholder="¿Que se desea conseguir?"
          class="rounded-lg min-height mt-2 mt-sm-0 bg-secondary-light w-100 p-2"></textarea>
      </div>
    </div>

    <div class="row align-items-center mt-4">
      <div class="col-12 col-sm-5 col-md-5 col-xl-4">
        <h2 class="mb-0 text-primary-light">Link de inscripción</h2>
      </div>
      <div class="col-12 col-sm-6 col-md-6 col-xl-6">
        <mat-form-field class="w-100 mt-2 mt-sm-0" appearance="fill" color="warn">
          <span mat-icon-button matPrefix type="button" class="text-secondary">
            <mat-icon>link</mat-icon>
          </span>
          <mat-label>Link</mat-label>
          <input matInput placeholder="www.ejemplo.com" formControlName="inscription_link">
          <div
            *ngIf="this.Form.get('inscription_link').errors  && (this.Form.get('inscription_link').dirty || this.Form.get('inscription_link').touched) ">
            <small class="text-secondary" *ngIf="this.Form.get('inscription_link').hasError('required')">
              Campo requerido
            </small>
            <small class="text-secondary" *ngIf="this.Form.get('inscription_link').hasError('maxlength')">
              Minimo 300 carateres
            </small>
          </div>
        </mat-form-field>
      </div>
    </div>

    <div class="row mt-4">
      <div class="col-12">
        <h2 class="mb-0 text-primary-light">Objetos requeridos</h2>
      </div>
      <div class="col-12 pt-2">
        <ckeditor [editor]="this.Editor" formControlName="requirement"></ckeditor>
        <div
          *ngIf="this.Form.get('requirement').errors  && (this.Form.get('requirement').dirty || this.Form.get('requirement').touched) ">
          <small class="text-secondary" *ngIf="this.Form.get('requirement').hasError('required')">
            Campo requerido
          </small>
          <small class="text-secondary" *ngIf="this.Form.get('requirement').hasError('maxlength')">
            Maximo 1024 caracteres
          </small>
        </div>
      </div>
    </div>

    <div class="row mt-4">
      <div class="col-12">
        <h2 class="mb-0 text-primary-light">Galería</h2>
      </div>
      <div class="col-12">
        <app-dropzone formControlName="images">

        </app-dropzone>
      </div>
    </div>

    <div class="row align-items-center mt-4">
      <div class="col-12 col-sm-5 col-md-5 col-xl-4">
        <h2 class="mb-0 text-primary-light">Ubicación</h2>
      </div>
      <div class="col-12 col-sm-6 col-md-6 col-xl-6">
        <mat-form-field class="w-100 mt-2 mt-sm-0" appearance="fill" color="warn">
          <span mat-icon-button matPrefix type="button" class="text-secondary">
            <mat-icon>place</mat-icon>
          </span>
          <mat-label>Dirección</mat-label>
          <input matInput placeholder="¿Dónde es?" formControlName="direction">
          <div
            *ngIf="this.Form.get('direction').errors  && (this.Form.get('direction').dirty || this.Form.get('direction').touched) ">
            <small class="text-secondary" *ngIf="this.Form.get('direction').hasError('required')">
              Campo requerido
            </small>
            <small class="text-secondary" *ngIf="this.Form.get('direction').hasError('maxlength')">
              Minimo 300 carateres
            </small>
          </div>
        </mat-form-field>
      </div>
    </div>

    <div class="row mt-4">
      <div class="col-12">
        <h2 class="mb-0 text-primary-light">Geo punto</h2>
      </div>
      <div class="col-12">
        <app-map formControlName="geom">
        </app-map>
        <div *ngIf="this.Form.get('geom').errors  && (this.Form.get('geom').dirty || this.Form.get('geom').touched) ">
          <small class="text-secondary" *ngIf="this.Form.get('geom').hasError('required')">
            Campo requerido
          </small>
        </div>
      </div>
    </div>

    <div class="row mt-4 justify-content-center">
      <div class="col-12 col-sm-3 col-md-1">
        <button type="submit" mat-flat-button color="primary" [disabled]="this.Form.invalid"
          class="btn-block p-2 rounded-lg">
          <h3 class="mb-0">Guardar</h3>
        </button>
      </div>
    </div>
  </form>

</div>